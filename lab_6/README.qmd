---
 title: "Использование технологии Yandex DataLens для анализа сетевой активности"
 author: "odintsovajulia19@yandex.ru"
 format: 
   md:
     output-file: README.md
---

## Цель работы 

1. Изучить возможности СУБД DuckDB для обработки и анализ больших данных
2. Получить навыки применения DuckDB совместно с языком программирования R
3. Получить навыки анализа метаинфомации о сетевом трафике
4. Получить навыки применения облачных технологий хранения, подготовки и анализа данных: Yandex Object Storage, Rstudio Server.

## Исходные данные 
 
1. Программное обеспечение Windows 10 

2. Yandex Datalens

3. Yandex Query

4. yaqry2dataset

## Задание

 Используя сервис Yandex DataLens настроить доступ к
 Yandex Query, который Вы использовали в ходе ранее
 выполненных практических работ, и визуально
 представить результаты анализа данных.

## Ход работы

### Подготовка рабочей среды

- Задаем вычислимые поля в датасете для удобства виузализации данных.


```{r}
#IF (([src] LIKE '12.%' OR [src] LIKE '13.%' OR [src] LIKE '14.%') AND ([dst] #not LIKE '12.%' and [dst] not LIKE '13.%' and [dst] not LIKE '14.%'))
#        THEN "Исходящий трафик"
#ELSEIF (([dst] LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%') AND #([src] not LIKE '12.%' and [src] not LIKE '13.%' and [src] not LIKE '14.%'))
#        THEN "Входящий трафик"
#END
```


```{r}
#IF ([src] LIKE '12.%' OR [src] LIKE '13.%' OR [src] LIKE '14.%') AND ([dst] #LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%')
#    THEN 'Внутренний трафик'
#ELSE 
#    'Внешний трафик'
#END
```


![](img/1.jpeg)


### Задание 1: Представить в виде круговой диаграммы соотношение внешнего и внутреннего сетевого трафика.

- С помощью созданных вычислимых полей задаем круговую диаграмму. Объем трафика для удобства выводим в гигабайтах.

![](img/2.jpeg)

### Задание 2: Представить в виде столбчатой диаграммы соотношение входящего и исходящего трафика из внутреннего сетвого сегмента.

- С помощью созданных вычислимых полей задаем столбчатую диаграмму. Объем трафика для удобства выводим в гигабайтах.

![](img/3.jpeg)

### Задание 3: Построить график активности (линейная диаграмма) объема трафика во времени.

- Задаем новое вычислимое поле и строим линейную диаграмму. Объем трафика для удобства выводим в гигабайтах. Время отображаем в сотых секунды, т.к. все данные датасета были получены в течение 2 секунд.


```{r}
#IF (([src] LIKE '12.%' OR [src] LIKE '13.%' OR [src] LIKE '14.%') AND ([dst] not #LIKE '12.%' and [dst] not LIKE '13.%' and [dst] not LIKE '14.%'))
#        THEN "Исходящий трафик"
#ELSEIF (([dst] LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%') AND ([src] #not LIKE '12.%' and [src] not LIKE '13.%' and [src] not LIKE '14.%'))
#        THEN "Входящий трафик"
#ELSEIF (([dst] LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%') AND ([dst] #LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%'))
#        THEN "Внутренний трафик"
#END
```

![](img/4.jpeg)


- Также строим дополнительный график в виде диаграммы областей, отображающий объем общего трафика во времени.

![](img/5.jpeg)


### Задание 4: Все построенные графики вывести в виде единого дашборда в Yandex DataLens.

- Строим дополнительно несколько индикаторов. 

![](img/6.jpeg)

- Размещаем графики на дашборде, задаем селекторы.

![](img/7.jpeg)

Ссылка на дашборд: 
https://datalens.yandex.cloud/thi2szmq4w9ef-dashbord-po-setevoy-aktivnosti-odincova


## Оценка результата

С использованием инструментов Yandex Datalens были проведены задания по визуализации данных сетевого трафика.

## Вывод 

Провели работу с Yandex Datalens, ознакомились с применением облачных технологий для хранения, подготовки и анализа данных, а также проанализировали данные о сетевом трафике.